<div class="filters">
  <%= form_with(url: patients_path, local: true, method: 'get', skip_enforcing_utf8: true) do %>
    <%= search_field_tag :search, params[:search],
      size: 23,
      results: 5,
      autosave: "search_#{current_user.username}",
      autocorrect: 'off',
      placeholder: t('.search_patients') %>
  <% end %>
</div>

<% if @patient %>
  <%= render partial: 'card' unless @patient.new_record? %>
<% end %>

<% if @recent %>
  <div class="panel" id="recent">
    <div class="caption"><%= t('.recent_patients') %></div>
    <% cache @recent do %>
      <ul>
        <%= render partial: 'shared/recent_patients',
          collection: @recent, as: :recent_patient, cached: true %>
      </ul>
    <% end %>
  </div>
<% end %>
